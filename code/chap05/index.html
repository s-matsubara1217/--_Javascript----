<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>chap05.基本データを操作する - 組み込みオブジェクト</title>
</head>
<body>

  <form>
    <label for="food">一番好きな食べ物は？</label>
    <select id="food" multiple size="3">
      <option value="ラーメン">ラーメン</option>
      <option value="餃子">餃子</option>
      <option value="焼肉">焼肉</option>
    </select>
  </form>

  <script>
    /** オブジェクト **/
    /* new演算子 */
    // let dat = new Date(2022, 11, 4, 11, 36, 54);

    /* メソッド・プロパティの呼び出し（ドット演算子） */
    // console.log(dat.getFullYear());

    // let str = null;
    // if (str !== null && str !== undefined) {
    //   console.log(str.length);
    // }

    // let str = null;
    // let str = 'hoge';
    // console.log(str?.length);

    // obj.func?.(args)
    // list?.[i]

    /* 静的プロパティ / 静的メソッド */
    /* 構文 */
    // オブジェクト名.プロパティ名
    // オブジェクト名.メソッド名
    // console.log(Math.abs(x - y) , EPSILON);


    /* 組み込みオブジェクト（ビルトイン） */
    // JavaScriptに標準で組み込まれている
    // console.log(Error);

    // let str = 'こんにちは';
    // console.log(str.length);

    // リテラルをそのまま対応する組み込みオブジェクトのインスタンスとして利用できる

    // let str = new String('こんにちは');
    // let str = 'こんにちは'
    // console.log(str);

    // let flag = new Boolean(false);
    // let flag = false;
    // if(flag) {
    //   console.log('flagはtrueです。');
    // }

    // ラッパーオブジェクト
    // 文字列
    // 数値
    // 論理値
    // シンボル

    /** Stringオブジェクト（文字列を操作する) **/
    // let str1 = 'WINGSメンバー';
    // console.log(str1.length);

    /* 文字列を大文字、小文字に変換 */
    // let str1 = 'Wings';
    // let str2 = 'Wings';
    // console.log(str1.toLowerCase());
    // console.log(str1.toUpperCase());

    // let msg = 'hELLO';
    // console.log(msg.substring(0,1).toUpperCase() + msg.substring(1).toLowerCase());


    /* 部分文字列を取得する */
    // let str = 'WINGSプロジェクト';
    // console.log(str.charAt(5));
    // console.log(str.substring(5));
    // console.log(str.substring(5,8));
    // console.log(str.slice(5));
    // console.log(str.slice(5,8));
    // console.log(str.substring(8,5));
    // console.log(str.slice(8,5));
    // console.log(str.substring(5,-2));
    // console.log(str.slice(5,-2));


    /* 文字列を検索する（ある文字列の中で、特定の部分文字列が登場する位置を検索） */
    // indexOf
    // lastIndexOf
    // let str = 'にわにはにわにわとりがいる';
    // console.log(str.indexOf('にわ'));
    // console.log(str.lastIndexOf('にわ'));
    // console.log(str.indexOf('にど'));
    // console.log(str.indexOf('にわ',5));
    // console.log(str.lastIndexOf('とり',7));

    // let str = 'Hello, World';
    // console.log(str.toLowerCase().indexOf('world'.toLowerCase()));

    // let str = 'にわにはにわにわとりがいる';
    // let count = 0;
    // let keywd = 'にわ';
    // let pos = str.indexOf(keywd);
    // console.log(pos);

    // while (pos !== -1) {
    //   count++;
    //   // console.log(count);
    //   pos = str.indexOf(keywd, pos + keywd.length);
    //   console.log(pos);
    //   console.log(keywd.length);
    // }
    // // console.log(`${count}件がヒットしました。`);


    /* 文字列に特定の部分文字列が含まれるかを判定する */
    // includes（部分一致）
    // startsWith（前方一致）
    // endsWith（後方一致）
    // let str = 'うりうりがうりうりにきてうりうりのこし';

    // console.log(str.includes('うり'));
    // console.log(str.indexOf('うり')>-1);
    // console.log(str.indexOf('うり')>-1);
    // console.log(str.startsWith('うり'));
    // console.log(str.endsWith('うり'));
    // console.log(str.includes('うり',10));
    // console.log(str.startsWith('り',3));
    // console.log(str.endsWith('うり',2));

    /* 文字列の前後から空白を除去する */
    // trim
    // trimStart
    // trimEnd
    // let str = '　 WINGSプロジェクト \n\t\n';
    // console.log(`「${str.trim()}」`);
    // console.log(`「${str.trimStart()}」`);
    // console.log(`「${str.trimEnd()}」`);

    /* 文字列を置き換える */
    // replace
    // replaceAll
    // let str ='にわにはにわにわとりがいる';
    // console.log(str.replace('にわ','二羽'));
    // console.log(str.replaceAll('にわ','二羽'));
    // console.log(str.split('にわ').join('二羽'));
    // console.log(str.split('にわ'));

    /* 文字列を分割する */
    // let str = 'みかん\tりんご\tぶどう\t';
    // let str2 = '叱られて';

    // console.log(str.split('\t'));
    // console.log(str.split('\n'));
    // console.log(str.split());
    // console.log(str2.split(''));
    // console.log(str.split('\t',2));
    // console.log(str.split('\t',0));
    // console.log(str.split('\t',-1));


    /* 文字列が指定長になるように指定文字で補足する */
    // padStart
    // padEnd
      // let str = '123.45';
      // console.log(str.padStart(10));
      // console.log(str.padStart(10,'0'));
      // console.log(str.padEnd(10,'0'));
      // console.log(str.padStart(10,'xyz'));
      // console.log(str.padStart(10,'abcdef'));
      // console.log(str.padStart(100,'abcdef'));
      // console.log(str.padEnd(100,'abcdef'));
      // console.log(str.padStart(3));


      /* 文字列をn回繰り返したものを取得する */
      // repeatメソッド
      // let str = 'ハム';
      // console.log(str.repeat(5));
      // console.log(str.repeat(0));
      // console.log(str.repeat(3.5));
      // console.log(str.repeat(-5));


      /* 文字列をUnicode正規化する */
      // normalizeメソッド
      // let type = ['NFD', 'NFC', 'NFKD', 'NFKC'];
      // let list = ['ギガ', 'キ゛カ゛', 'ｷﾞｶﾞ', ''];
      // for(let t of type) {
      //   console.log(`◾️${t}`);
      //   for(let l of list) {
      //     console.log(`${l} => ${l.normalize(t)}`);
      //   }
      // }


      /** Numberオブジェクト（数値リテラルを操作する) **/
      /* 最大・最小の整数値 */
      // MAX_SAFE_INTEGER
      // MIN_SAFE_INTEGER
      // console.log(Number.MAX_SAFE_INTEGER);
      // console.log(Number.MAX_SAFE_INTEGER + 1);
      // console.log(Number.MAX_SAFE_INTEGER + 2);
      // console.log(BigInt(Number.MAX_SAFE_INTEGER + 2n));
      // console.log(10n + 2);
      // console.log(10n / 3n);
      // console.log(10n === 10);

      /* 数値形式を変換する */
      // let num1 = 255;
      // console.log(num1.toString(16));
      // console.log(num1.toString(8));

      // let num2 = 123.45678
      // console.log(num2.toExponential(2));
      // console.log(num2.toFixed(3));
      // console.log(num2.toFixed(7));
      // console.log(num2.toPrecision(10));
      // console.log(num2.toPrecision(5));

      // let num = 1234.567;
      // let fmt = new Intl.NumberFormat('en-US', {
      //   style: 'unit',
      //   // currency: 'USD',
      //   currencyDisplay: 'name',
      //   unit: 'byte',
      // });
      // console.log(fmt.format(num));

      /* 文字列を数値に変換する */
      // parseFloat/parseInt
      // let n = '123xxx';
      // console.log(Number(n));
      // console.log(Number.parseFloat(n));
      // console.log(Number.parseInt(n));

      // let d = new Date();
      // console.log(Number(d));
      // console.log(Number.parseFloat(d));
      // console.log(Number.parseInt(d));

      // let h = '0x10';
      // console.log(Number(h));
      // console.log(Number.parseFloat(h));
      // console.log(Number.parseInt(h));

      // let b = '0b11';
      // console.log(Number(b));
      // console.log(Number.parseFloat(b));
      // console.log(parseInt(b));

      // let e = '1.01e+2';
      // console.log(Number(e));
      // console.log(Number.parseFloat(e));
      // console.log(Number.parseInt(e));

      /* 基本的な数学演算を実行する */
      // Mathオブジェクト
      // console.log(Math.abs(-100));
      // console.log(Math.clz32(1));
      // console.log(Math.min(20,40,60));
      // console.log(Math.max(20,40,60));
      // console.log(Math.pow(5,3));
      // console.log(Math.random());
      // console.log(Math.sign(-100));
      // console.log(Math.ceil(1234.06));
      // console.log(Math.ceil(-1234.56));
      // console.log(Math.floor(1234.56));
      // console.log(Math.floor(-1234.56));
      // console.log(Math.round(1234.56));
      // console.log(Math.round(-1234.56));
      // console.log(Math.trunc(1234.56));
      // console.log(Math.trunc(-1234.56));
      // console.log(Math.sqrt(81));
      // console.log(Math.cbrt(81));
      // console.log(Math.hypot(3,4));
      // console.log(Math.cos(1));
      // console.log(Math.sin(1));
      // console.log(Math.tan(1));
      // console.log(Math.atan2(1,3));
      // console.log(Math.log(10));

      // // 乱数を求める
      // let min = 50;
      // let max = 100;
      // console.log(Math.floor(Math.random()*(max-min+1))+min);
      // console.log(Math.floor(Math.random()*101));

      // // 配列から任意の要素を取り出す
      // let list = ['みかん','りんご','ぶどう','すいか','なし'];
      // console.log(list.length);
      // console.log(Math.random());
      // console.log(Math.random()*list.length);
      // console.log(list[Math.floor(Math.random()*list.length)]);


      /** Dateオブジェクト（日付/時刻値を操作する) **/
      // 日付.時刻値を生成する（コンストラクターを生成）
      // let d = new Date();
      // console.log(d);
      // let d = new Date(2022,11,4,20,7,15,368);
      // console.log(d);
      // let d2 = new Date(2022,11,3,20,7,15,368);
      // console.log(d2);
      // let d3 = new Date(2022,11,0);
      // console.log(d3);
      // let d4 = new Date(2022,11);
      // console.log(d4);

      // 日付,時刻文字列から生成
      // let d = new Date('2022-12-04T20:07:15');
      // console.log(d);
      // let d2 = new Date('2022/12/04/20:07:15');
      // console.log(d2);
      // let d3 = new Date('December 4, 2022 20:07:15');
      // console.log(d3);

      // Unixタイムスタンプ値を設定
      // let d = new Date(2022,11,4,20,7,15,368);
      // let d2 = new Date(d.getTime());
      // console.log(d);
      // console.log(d2);
      // let d = new Date();
      // console.log(d.getTime());
      // console.log(Date.now());
      // console.log(Date.UTC(2022,11,4,20,7,15));

      // 日付.時刻要素を取得
      // let dt = new Date();
      // console.log(dt);
      // console.log(dt.getFullYear());
      // console.log(dt.getMonth());
      // console.log(dt.getDate());
      // console.log(dt.getDay());
      // console.log(dt.getHours());
      // console.log(dt.getSeconds());
      // console.log(dt.getMilliseconds());
      // console.log(dt.getTime());
      // console.log(dt.getTimezoneOffset());

      // let dt = new Date(2022,11,34,20,7,15,368);
      // let dt = new Date();
      // console.log(dt.getUTCFullYear());
      // console.log(dt.getUTCMonth());
      // console.log(dt.getUTCDate());
      // console.log(dt.getUTCDay());
      // console.log(dt.getUTCHours());
      // console.log(dt.getUTCMinutes());
      // console.log(dt.getUTCSeconds());
      // console.log(dt.getUTCMilliseconds());

      // 日付.時刻要素を設定
      // let dt = new Date();
      // dt.setFullYear(2022);
      // dt.setMonth(7);
      // dt.setDate(5);
      // dt.setHours(11);
      // dt.setMinutes(37);
      // dt.setSeconds(15);
      // dt.setMilliseconds(513)
      // console.log(dt);
      // console.log(dt.toLocaleString());

      // 日付,時刻値を加算,減算する
      // let dt = new Date(2022,11,15,20,40);
      // let dt = new Date();
      // console.log(dt);
      // dt.setMonth(dt.getMonth() + 3);
      // console.log(dt);
      // dt.setDate(dt.getDate() - 20);
      // console.log(dt);
      // let dat = new Date(2022,4,15,11,40);
      // let dat = new Date();
      // console.log(dat);
      // dat.setMonth(dat.getMonth()+1);
      // dat.setDate(0);
      // console.log(dat);

      // 日付,時刻の差を求める
      // let dt1 = new Date(2022,10,15);
      // let dt2 = new Date(2022,11,20);
      // let diff = (dt2.getTime() - dt1.getTime())/(1000*60*60*24);
      // console.log(`${diff}日の差があります。`);

      // 日付,時刻値を文字列に変換したい
      // let dt = new Date(2022,11,4,20,7,15,368);
      // console.log(dt.toLocaleString());
      // console.log(dt.toLocaleDateString());
      // console.log(dt.toLocaleTimeString());
      // console.log(dt.toISOString());
      // console.log(dt.toDateString());
      // console.log(dt.toJSON());

      // let dt = new Date(2022,11,4,20,7,15,368);
      // let fmt = new Intl.DateTimeFormat('ja-JP', {
      //   year: 'numeric',
      //   month: 'short',
      //   day: '2-digit',
      //   weekday: 'long',
      //   hour12: true,
      //   hour: '2-digit',
      //   minute: '2-digit',
      //   second: '2-digit',
      //   dayPeriod: 'short'
      // });
      // console.log(fmt.format(dt));


      /** Arrayオブジェクト（値の集合を管理,操作する) **/
      // 配列を生成する
      // let list = ['a','b','c'];

      // 要素を追加,削除する
      // let list = ['松','竹','梅'];
      // list.push('桜');
      // console.log(list);
      // list.unshift('桃','杏');
      // console.log(list);
      // list.push(...['杉','桐']);
      // console.log(list);
      // console.log(list.pop());
      // console.log(list.shift());
      // console.log(list);
      // console.log(list.at(-1));
      // console.log(list.at(-2));
      // console.log(list.at(-3));
      // console.log(list.at(-4));
      // console.log(list.at(0));
      // console.log(list.at(1));
      // console.log(list.at(2));
      // console.log(list.at(3));
      // Arrayオブジェクト 破壊的なメソッド
      // splice
      // copyWithin
      // fill
      // pop
      // push
      // shift
      // unshift
      // reverse
      // sort

      // スタックとキュー
      // let data = [];
      // data.push(1);
      // data.push(2);
      // data.push(3);
      // console.log(data.pop());
      // console.log(data.pop());
      // console.log(data.pop());
      // console.log(data.shift());
      // console.log(data.shift());
      // console.log(data.shift());

      // 配列に複数要素を追加,置換,削除する
      // spliceメソッド
      // let list = ['い','ろ','は','に','ほ','へ','と'];
      // (1)要素の置換
      // console.log(list.splice(3,2,'X','Y','Z'));
      // console.log(list);
      // (2)要素の挿入
      // console.log(list.splice(3,0,'X','Y','Z'));
      // console.log(list);
      // (3)要素の削除
      // console.log(list.splice(3,2));
      // console.log(list);
      // console.log(list.splice(3));
      // console.log(list);

      // 配列から特定範囲の要素を取得する
      // sliceメソッド
      // let list = ['い','ろ','は','に','ほ','へ','と',];
      // console.log(list.slice(3,6));
      // console.log(list.slice(3));
      // console.log(list.slice());
      // console.log(list.slice(-3,6));
      // console.log(list.slice(3,-1));
      // console.log(list.slice(7,10));
      // console.log(list.slice(3,1));

      // 配列の内容を検索する
      // let list = [10,20,30,20,50];
      // console.log(list.indexOf(20));
      // console.log(list.indexOf(60));
      // console.log(list.lastIndexOf(20));
      // console.log(list.indexOf('20'));
      // console.log(list.indexOf(20,2));
      // console.log(list.lastIndexOf(20,2));
      // console.log(list.indexOf(20,-2));

      // すべての要素位置を検索する
      // let list = ['い','ろ','は','に','い','へ','と'];
      // let keywd = 'い';
      // let result = [];

      // list.forEach(function(v,i) {
      //   if(v===keywd) {
      //     result.push(i);
      //   }
      // })
      // console.log(result);

      // 要素が存在するかを確認する
      // includesメソッド
      // let list = ['い','ろ','は','に','い','へ','と'];
      // console.log(list.includes('い'));
      // console.log(list.includes('ほ'));
      // console.log(list.includes('い',6));
      // console.log(list.includes('ろ',-6));

      // 入れ子の配列をフラット化する
      // flatメソッド
      // let list = ['ド',['レ','ミ',['ファ','ソ',['ラ','シ']]]]
      // console.log(list.flat());
      // console.log(list.flat(2));
      // console.log(list.flat(3));
      // console.log(list.flat(Infinity));
      // 入れ子の配列で要素数を取得する
      // let list = [
      //   ['Do','ド','C'],
      //   ['Re','レ','D'],
      //   ['Mi','ミ','E'],
      // ];
      // console.log(list.length);
      // console.log(list.flat().length);
      // console.log(list.flat(Infinity));

      // 配列内の要素を結合する
      // joinメソッド
      // let list = ['松','竹','梅'];
      // console.log(list.join());
      // console.log(list.join('/'));
      // console.log(list.join('\t'));
      // console.log(list.join(''));
      // let list2 = ['hoge',null,undefined,[]];
      // console.log(list2.join());

      // 配列内の要素を移動する
      // copyWithinメソッド
      // let list = ['い','ろ','は','に','ほ','へ','と'];
      // let list2 = ['い','ろ','は','に','ほ','へ','と'];
      // let list3 = ['い','ろ','は','に','ほ','へ','と'];
      // let list4 = ['い','ろ','は','に','ほ','へ','と'];
      // console.log(list.copyWithin(3,2,4));
      // console.log(list2.copyWithin(1,2));
      // console.log(list3.copyWithin(2));

      // 配列ライクなオブジェクトを配列化する
      // Array.fromメソッド
      // let opts = Array.from(document.querySelector('#food').options);
      // console.log(document.querySelector('#food'));
      // console.log(opts);
      // opts.forEach(function(opt) {
      //   console.log(opt.value);
      // })

      // 初期値を持った配列を生成する
      // let list = Array.from(
      //   { length: 5 },
      //   function(value,index) {
      //     return index * 10;
      //   }
      // );
      // console.log(list);

      // fillメソッド
      // let data = new Array(5);
      // data.fill('ー', 0, data.length);
      // console.log(data);

      // 特定範囲の連番を生成する
      // const BEGIN = 10;
      // const END = 20;
      // const STEP = 3;

      // let list = Array.from(
      //   { length: (END - BEGIN) / STEP + 1 },
      //   function(v,i) {
      //     return BEGIN + (i * STEP)
      //   }
      // );
      // console.log(list);

      // 配列を複製する
      let list = [1,2,3,4,5];
      let copy = Array.from(list);
      console.log(copy);
      console.log(list === copy);

  </script>

</body>
</html>
